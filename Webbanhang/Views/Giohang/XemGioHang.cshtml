@using Webbanhang.Models
@model List<Giohang>
@{
    ViewBag.Title = "XemGioHang";
    Layout = "~/Views/Layout/_LayoutHome.cshtml";
}
@if (Model.Count == 0)
{
    <div class="content-wraper pt-60 pb-60">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 ms-auto me-auto text-center">
                    <div class="search-error-wrapper">
                        <h1>Giỏ hàng trống !</h1>
                        <h2>Giỏ hàng trống</h2>
                        <p class="home-link">
                            Xin lỗi, giỏ hàng của bạn hiện tại đang trống, mời bạn mời bạn quay lại mua sắm
                        </p>
                        <a href="~/Home/Index" class="home-bacck-button">Mua sắm ngay !</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="Shopping-cart-area pt-60 pb-60">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="table-content table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="fb-product-thumbnail"><span style="text-transform: lowercase; ">Mã sản phẩm</span></th>
                                    <th class="cart-product-name"><span style="text-transform: lowercase; ">Tên sản phẩm</span></th>
                                    <th class="fb-product-quantity"><span style="text-transform: lowercase; ">Hình ảnh</span></th>
                                    <th class="fb-product-subtotal"><span style="text-transform: lowercase; ">Số lượng</span></th>
                                    <th class="fb-product-subtotal"><span style="text-transform: lowercase; ">Đơn giá</span></th>
                                    <th class="fb-product-subtotal"><span style="text-transform: lowercase; ">Thành tiền</span></th>
                                    <th class="fb-product-subtotal"><span style="text-transform: lowercase; ">Chức năng</span></th>
                                    <th class="fb-product-subtotal"><span style="text-transform: lowercase; ">Chức năng</span></th>
                                    <th class="fb-product-subtotal"><span style="text-transform: lowercase; ">Chức năng</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td class="fb-product-name">@item.MaSP</td>
                                        <td class="fb-product-name">@item.sTenSP</td>
                                        <td class="fb-product-thumbnail" style="width:90px; height:90px;"><img src="@Url.Content("~/assets/images/product/" + item.sHinhAnh)" alt="FB's Product Image" /></td>
                                        @using (Html.BeginForm("CapnhatGiohang", "Giohang", new { @MaSP = item.MaSP }))
                                        {
                                            <td>
                                                <input type="number" min="1" name="txtSoluong" value="@item.sSoLuong" style="background-color:aquamarine" />
                                            </td>
                                            <td class="fb-product-price">@item.sDonGia.ToString("#,##") đồng</td>
                                            <td class="fb-product-price">@item.dThanhtien.ToString("#,##") đồng</td>
                                            <td> <a href="@Url.Action("ChiTietSanPham", "SanPhams", new { id = item.MaSP })">Chi tiết</a></td>
                                            <td>@Html.ActionLink("Xóa", "XoaGiohang", new { @MaSP = item.MaSP })</td>
                                            <td> <input type="submit" value="Cập nhật" /></td>
                                        }
                                    </tr>

                                }
                            </tbody>
                            <tr style="font-weight: bold; color: black; text-align: right">
                                <td colspan="9">
                                    @Html.ActionLink("Xóa tất cả", "XoatatcaGH")
                                </td>
                            </tr>
                            <tr style="font-weight: bold; color: black; text-align: right">
                                <td colspan="9" align="center">
                                    @Html.ActionLink("ĐẶT HÀNG", "DatHang")
                                </td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
    }

